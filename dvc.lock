schema: '2.0'
stages:
  load_data:
    cmd: python mlops/load_data.py --config params.yaml
    deps:
    - path: mlops/load_data.py
      hash: md5
      md5: b5968bfc20454555f108dd3fb8d84a31
      size: 952
    outs:
    - path: ./data/raw_full/data.csv
      hash: md5
      md5: a93eb1a9f2486d741f501519b8617d6f
      size: 109133122
  preprocess:
    cmd: python mlops/preprocess_data.py --config params.yaml
    deps:
    - path: ./data/raw_full/data.csv
      hash: md5
      md5: a93eb1a9f2486d741f501519b8617d6f
      size: 109133122
    - path: mlops/preprocess_data.py
      hash: md5
      md5: eea15d0ae4913504e20b6dc2418231fb
      size: 4914
    outs:
    - path: ./data/interim/preprocessed_data.csv
      hash: md5
      md5: 45e9164e17c2260a592db4862a0ac398
      size: 7043551
    - path: ./data/processed/X_test.csv
      hash: md5
      md5: 75df7c8a0b7d2d9b134840aca228e6e9
      size: 4290353
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: 9d1a665f6c9262e64944ac5943764bf0
      size: 17161455
    - path: ./data/processed/y_test.csv
      hash: md5
      md5: 9bb2de7756e4bcd3dfbac3888da97a37
      size: 375057
    - path: ./data/processed/y_train.csv
      hash: md5
      md5: e6515955ba69dd173efc7944e67e1fc1
      size: 1500063
  train:
    cmd: python mlops/train.py --config params.yaml
    deps:
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: 9d1a665f6c9262e64944ac5943764bf0
      size: 17161455
    - path: ./data/processed/y_train.csv
      hash: md5
      md5: e6515955ba69dd173efc7944e67e1fc1
      size: 1500063
    - path: mlops/train.py
      hash: md5
      md5: 595fee5d94e1c535f9273f4b577fd716
      size: 4124
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: 4d208b677074737efe618d06fa9d71f8
      size: 186440865
  evaluate:
    cmd: python mlops/evaluate.py --config params.yaml
    deps:
    - path: ./data/processed/X_test.csv
      hash: md5
      md5: 75df7c8a0b7d2d9b134840aca228e6e9
      size: 4290353
    - path: ./data/processed/y_test.csv
      hash: md5
      md5: 9bb2de7756e4bcd3dfbac3888da97a37
      size: 375057
    - path: ./models/model.pkl
      hash: md5
      md5: 4d208b677074737efe618d06fa9d71f8
      size: 186440865
    - path: mlops/evaluate.py
      hash: md5
      md5: 297ff7eb23e47c32d3bb730acb5d7c17
      size: 4391
    outs:
    - path: ./reports/figures/feature_importance.png
      hash: md5
      md5: 2e708033136b75794aa990aaa4a52470
      size: 27403
    - path: ./reports/figures/regression_plot.png
      hash: md5
      md5: fefac90be5bda8f03f2baebc072ed9ba
      size: 131940
  convert_to_onnx:
    cmd: python mlops/convert_to_onnx.py --config params.yaml
    deps:
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: 9d1a665f6c9262e64944ac5943764bf0
      size: 17161455
    - path: ./models/model.pkl
      hash: md5
      md5: 4d208b677074737efe618d06fa9d71f8
      size: 186440865
    - path: mlops/convert_to_onnx.py
      hash: md5
      md5: aabf33dd5845b65b418773aa945647ff
      size: 942
    outs:
    - path: ./models/model.onnx
      hash: md5
      md5: 92ab897b4d09bfcf2bed02630f05ab37
      size: 103317202
