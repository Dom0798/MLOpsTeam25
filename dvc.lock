schema: '2.0'
stages:
  load_data:
    cmd: python mlops/load_data.py --config params.yaml
    deps:
    - path: mlops/load_data.py
      hash: md5
      md5: 69575a58117f1010344f37f3343e2065
      size: 919
    outs:
    - path: ./data/raw_full/data.csv
      hash: md5
      md5: 5628ae70e57e182b7e07538670fb9aca
      size: 109023723
  preprocess:
    cmd: python mlops/preprocess_data.py --config params.yaml
    deps:
    - path: ./data/raw_full/data.csv
      hash: md5
      md5: 5628ae70e57e182b7e07538670fb9aca
      size: 109023723
    - path: mlops/preprocess_data.py
      hash: md5
      md5: 483dccae1136908ed9e9139431531f3d
      size: 4719
    outs:
    - path: ./data/interim/preprocessed_data.csv
      hash: md5
      md5: 9fcf664ff102876764e35085fe6205da
      size: 6945839
    - path: ./data/processed/X_test.csv
      hash: md5
      md5: c06e97c6e6094a88508f44ad0824ee47
      size: 4343577
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: ab27421b814b0754763cac669bb23dcf
      size: 17370138
    - path: ./data/processed/y_test.csv
      hash: md5
      md5: 0a80013e1cc853668aa28a82bcf34466
      size: 355277
    - path: ./data/processed/y_train.csv
      hash: md5
      md5: 064cd8e059d0013dd2f50fc2d8ece14f
      size: 1421345
  train:
    cmd: python mlops/train.py --config params.yaml
    deps:
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: ab27421b814b0754763cac669bb23dcf
      size: 17370138
    - path: ./data/processed/y_train.csv
      hash: md5
      md5: 064cd8e059d0013dd2f50fc2d8ece14f
      size: 1421345
    - path: mlops/train.py
      hash: md5
      md5: 8688a53094f3b3cb6a36cedb9515ad23
      size: 4059
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: 49e6d2d610b050348f678043da826a6b
      size: 186572913
  evaluate:
    cmd: python mlops/evaluate.py --config params.yaml
    deps:
    - path: ./data/processed/X_test.csv
      hash: md5
      md5: c06e97c6e6094a88508f44ad0824ee47
      size: 4343577
    - path: ./data/processed/y_test.csv
      hash: md5
      md5: 0a80013e1cc853668aa28a82bcf34466
      size: 355277
    - path: ./models/model.pkl
      hash: md5
      md5: 49e6d2d610b050348f678043da826a6b
      size: 186572913
    - path: mlops/evaluate.py
      hash: md5
      md5: be26be1af5a86ba70f77d39e7e9976eb
      size: 4296
    outs:
    - path: ./reports/figures/feature_importance.png
      hash: md5
      md5: f01ee2207bc78a2ca33c488deb56137a
      size: 27600
    - path: ./reports/figures/regression_plot.png
      hash: md5
      md5: 8cb4053bf2d3c9005e0fad2a72379ccd
      size: 150437
  convert_to_onnx:
    cmd: python mlops/convert_to_onnx.py --config params.yaml
    deps:
    - path: ./data/processed/X_train.csv
      hash: md5
      md5: ab27421b814b0754763cac669bb23dcf
      size: 17370138
    - path: ./models/model.pkl
      hash: md5
      md5: 49e6d2d610b050348f678043da826a6b
      size: 186572913
    - path: mlops/convert_to_onnx.py
      hash: md5
      md5: 41ac27a173110e41381ac2c34dbb00ac
      size: 915
    outs:
    - path: ./models/model.onnx
      hash: md5
      md5: 0d1b3a194f89694deb1a03313bfd7229
      size: 103394238
